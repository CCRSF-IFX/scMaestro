<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Shaojun Xie @ CCRSFIFX" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Subcommand `vdj` - scMaestro Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Subcommand `vdj`";
        var mkdocs_page_input_path = "vdj.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> scMaestro Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">About</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../design/">Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../custom_setting/">Custom setting</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Usage</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../gex/">Subcommand `rna`</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../multi/">Subcommand `multi`</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Subcommand `vdj`</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#reference">Reference</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fixedrna/">Subcommand `fixedrna`</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Todo</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../todo/">todo</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../license/">License</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">scMaestro Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Usage</li>
      <li class="breadcrumb-item active">Subcommand `vdj`</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/CCRSF-IFX/scMaestro/edit/main/docs/vdj.md">Edit on CCRSF-IFX/scMaestro</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="vdj-pipeline"><code>vdj</code> pipeline</h1>
<pre><code>usage: scMaestro vdj [-h] -f [FASTQPATH ...] -r REFERENCE FOLDER -g GENOME [-n] [--rerun] [--unlock]
                     [--chain {auto,TR,IG}]

options:
  -h, --help            show this help message and exit
  -f [FASTQPATH ...], --fastqs [FASTQPATH ...]
                        Path(s) to fastq files, multiple paths can be provided together. eg. &quot;-f path1
                        path2&quot;
  -r REFERENCE FOLDER, --reference REFERENCE FOLDER
                        Reference genome folder for alignment
  -g GENOME, --genome GENOME
                        Genome build, e.g. &quot;hg38&quot;, &quot;mm10&quot;
  -n, --dryrun          dry run
  --rerun               dry run then prompt for submitting jobs that need to be rerun
  --unlock              unlock working directory
  --chain {auto,TR,IG}  Force the analysis to be carried out for a particular chain type.
</code></pre>
<p>By default, Cell Ranger will try to automatically determine the chain type from the data. When this fails, the complete error message will look something like the following. In order for Cell Ranger to automatically determine chain type, the sample library must meet the listed conditions.</p>
<pre><code>V(D)J Chain detection failed for Sample foo in &quot;/mnt/scratch/inputs/x/y&quot;.

Total Reads          = 1000000
Reads mapped to TR   = 49211
Reads mapped to IG   = 3

In order to distinguish between the TR and the IG chain the following conditions need to be satisfied:
- A minimum of 10000 total reads
- A minimum of 5.0% of the total reads needs to map to TR or IG
- The number of reads mapped to TR should be at least 3.0x compared to the number of reads mapped to IG or vice versa
Please check the input data and/or specify the chain via the --chain argument.
</code></pre>
<p>To overcome this error on the command line, for cellranger vdj explicitly set the --chain parameter to either IG for BCRs or TR for TCRs. Documentation is at https://support.10xgenomics.com/single-cell-vdj/software/pipelines/latest/using/vdj#opt-arg-exp. </p>
<h2 id="reference">Reference</h2>
<p>https://kb.10xgenomics.com/hc/en-us/articles/10840673911693-How-to-solve-V-D-J-Chain-detection-failed-error-on-10x-Cloud</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../multi/" class="btn btn-neutral float-left" title="Subcommand `multi`"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../fixedrna/" class="btn btn-neutral float-right" title="Subcommand `fixedrna`">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; 2024 CCRSFIFX</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/CCRSF-IFX/scMaestro.git" class="fa fa-code-fork" style="color: #fcfcfc"> CCRSF-IFX/scMaestro</a>
        </span>
    
    
      <span><a href="../multi/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../fixedrna/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
